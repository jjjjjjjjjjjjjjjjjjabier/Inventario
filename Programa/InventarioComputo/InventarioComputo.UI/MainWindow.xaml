<Window x:Class="InventarioComputo.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Sistema de Inventario de Equipo de Computo" 
        Height="720" Width="1280" 
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Menu lateral colapsable -->
        <Grid x:Name="MenuPanel" Width="200" Background="#2C3E50">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Boton de toggle para el menu -->
            <Grid Grid.Row="0" Height="60" Background="#263545">
                <ToggleButton x:Name="MenuToggleButton"
                              Checked="MenuToggleButton_Checked"
                              Unchecked="MenuToggleButton_Unchecked"
                              HorizontalAlignment="Right"
                              VerticalAlignment="Center"
                              Margin="0,0,10,0"
                              Width="32" Height="32"
                              Background="Transparent"
                              BorderThickness="0">
                    <ToggleButton.Template>
                        <ControlTemplate TargetType="ToggleButton">
                            <Border Background="Transparent" Width="32" Height="32">
                                <Path Data="M4,10 L28,10 M4,16 L28,16 M4,22 L28,22"
                                      Stroke="White" StrokeThickness="2"
                                      StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
                            </Border>
                        </ControlTemplate>
                    </ToggleButton.Template>
                </ToggleButton>
                <TextBlock Text="INVENTARIO"
                           Foreground="White"
                           FontSize="16"
                           FontWeight="Bold"
                           VerticalAlignment="Center"
                           Margin="20,0,0,0" />
            </Grid>

            <!-- Seccion de Inventario -->
            <StackPanel Grid.Row="1" Margin="0,10,0,0">
                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToEquiposComputoCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE770;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Equipos" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- Seccion de Administracion -->
            <StackPanel Grid.Row="2" Margin="0,20,0,0">
                <TextBlock Text="ADMINISTRACION" 
                           Foreground="#7F8C8D" 
                           FontSize="12" 
                           Margin="15,5,0,5"/>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToEstadosCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE945;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Estados" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToTiposEquipoCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE71D;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Tipos" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToUnidadesCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE707;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Unidades" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToUbicacionesCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE707;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Ubicaciones" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToReportesCommand}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE9D9;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Reportes" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Style="{StaticResource MenuButtonStyle}"
                        Command="{Binding NavigateToUsuariosCommand}"
                        Visibility="{Binding EsAdministrador, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE77B;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="5,0,10,0"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="Usuarios" 
                                   VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </StackPanel>

            <!-- Usuario y Boton Cerrar Sesion -->
            <StackPanel Grid.Row="4" Margin="0,20,0,20">
                <TextBlock Text="{Binding NombreUsuario}"
                           Foreground="White"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,5"/>
                <!-- Mostrar el rol, no repetir el nombre -->
                <TextBlock Text="Rol: Administrador"
                           Foreground="#7F8C8D"
                           FontSize="12"
                           HorizontalAlignment="Center"
                           Visibility="{Binding EsAdministrador, Converter={StaticResource BooleanToVisibilityConverter}}"
                           Margin="0,0,0,10"/>
                <TextBlock Text="Rol: Consulta"
                           Foreground="#7F8C8D"
                           FontSize="12"
                           HorizontalAlignment="Center"
                           Visibility="{Binding EsAdministrador, Converter={StaticResource InvertedBooleanToVisibilityConverter}}"
                           Margin="0,0,0,10"/>
                <Button Command="{Binding CerrarSesionCommand}"
                        HorizontalAlignment="Center"
                        Height="32"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="White">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="&#xE7E8;" 
                                   FontFamily="Segoe MDL2 Assets" 
                                   Margin="0,0,5,0"/>
                        <TextBlock Text="Cerrar Sesion"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Grid>

        <!-- Contenido principal -->
        <ContentControl Grid.Column="1" 
                        Content="{Binding CurrentViewModel}" 
                        Margin="20"/>
    </Grid>
</Window>