<Window x:Class="InventarioComputo.UI.Views.UsuarioEditorView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:b="clr-namespace:InventarioComputo.UI.Behaviors"
        Title="Usuario" WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight" MinWidth="520" MinHeight="360"
        ResizeMode="NoResize">
    <Grid Margin="14">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="12"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="{Binding Titulo}" FontSize="18" FontWeight="SemiBold" />

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="16"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Datos del usuario -->
            <Grid Grid.Column="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="140"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Usuario:"/>
                <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding NombreUsuario, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Grid.Row="2" Grid.Column="0" VerticalAlignment="Center" Text="Nombre completo:"/>
                <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding NombreCompleto, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Text="Contraseña:"/>
                <PasswordBox Grid.Row="4" Grid.Column="1"
                             b:PasswordBoxBehavior.Attach="True"
                             b:PasswordBoxBehavior.Password="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" Text="Confirmar contraseña:"/>
                <PasswordBox Grid.Row="6" Grid.Column="1"
                             b:PasswordBoxBehavior.Attach="True"
                             b:PasswordBoxBehavior.Password="{Binding ConfirmPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <CheckBox Grid.Row="8" Grid.Column="1" Content="Activo" IsChecked="{Binding Activo}" />
            </Grid>

            <!-- Roles -->
            <Border Grid.Column="2" BorderBrush="#DDD" BorderThickness="1" Padding="10">
                <StackPanel>
                    <TextBlock Text="Roles" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <ItemsControl ItemsSource="{Binding Roles}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <CheckBox Content="{Binding NombreRol}" IsChecked="{Binding IsSelected, Mode=TwoWay}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Botones -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Guardar" Command="{Binding GuardarCommand}" Padding="16,6" Margin="0,0,8,0"/>
            <Button Content="Cancelar" Command="{Binding CloseCommand}" Padding="16,6"/>
        </StackPanel>
    </Grid>
</Window>